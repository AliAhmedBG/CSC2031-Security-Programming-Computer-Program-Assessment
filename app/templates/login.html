{% extends "base.html" %}
{% block title %}Login{% endblock %}
{% block content %}
<h1>Login</h1>

<!-- Flash messages -->
{% with messages = get_flashed_messages(with_categories=true) %}
{% if messages %}
{% for category, message in messages %}
<p class="text-danger">{{ message }}</p>
{% endfor %}
{% endif %}
{% endwith %}

<form method="POST" novalidate>
  <!--Adds csrf protection to the login page-->
  {{ form.csrf_token }}

  <!--adds the email and password field along with the submit button to the page-->
  <p>
    {{ form.username.label }}<br> {{ form.username }}
    <!-- show validation errors under each field-->
    {% for error in form.username.errors %}
        <br><span style="color:red;">{{ error }}</span>
    {% endfor %}
  </p>

  <p>
    {{ form.password.label }}<br> {{ form.password }}
    {% for error in form.password.errors %}
        <br><span style="color:red;">{{ error }}</span>
    {% endfor %}
  </p>

  <p>{{ form.submit() }}</p>
</form>
{% endblock %}

